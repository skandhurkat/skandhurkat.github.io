<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="cornellcsl">
  <meta name="generator" content="Hugo 0.27" />
  <meta name="author" content="Skand Hurkat">
  <meta name="description" content="PhD Candidate">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/academicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7cMerriweather%7cRoboto&#43;Mono">
  <link rel="stylesheet" href="/css/cornellcsl.min.css">
  

  <link rel="alternate" href="http://skandhurkat.github.io/index.xml" type="application/rss+xml" title="Skand Hurkat – Computer Systems Lab, Cornell University">

  <link rel="icon" type="image/png" href="/img/CULogo-red120px.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/CULogo-red120px.png">

  <link rel="canonical" href="http://skandhurkat.github.io/post/gcc-constructor-bug/">

  

  <title>A bug in how GCC handles constructors | Skand Hurkat – Computer Systems Lab, Cornell University</title>

  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
  <script async src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
  <script defer>
  window.addEventListener("load", function(){
  window.cookieconsent.initialise({
    "palette": {
      "popup": {
        "background": "#ffffff",
        "text": "#000000"
      },
      "button": {
        "background": "#b31b1b",
        "text": "#ffffff"
      }
    },
    "showLink": false,
    "content": {
      "message": "This website uses cookies for analytics and to enable comments.",
      "dismiss": "Cool! I get it."
    }
  })});
  </script>
</head>
<body data-spy="scroll" data-target="#navbar-main" data-offset="71">

    
    <a class="sr-only" href="#content">Skip to main content</a>
    <header id="top" class="cu-banner">
    
    <div class="container">
        <form action="//www.google.com/search" id="cu-search"
        method="get" role="search" class="collapse">
        
        
        
         
        <input type="hidden" name="q"
        value="site:people.ece.cornell.edu/skand">
        <div class="input-group col-xs-12">
            
            <input autocomplete="off" id="search-query" name="q"
            placeholder="Search this website using Google"
            required type="search" class="col-xs-12 cu-search-box">
            <label for="search-query" class="sr-only">
                 Search this website using Google
            </label>
        </div>
        </form>
    </div>
    
    <div class="container">
        <div class="row">
            <div class="col-xs-10 cu-csl-logo-div">
	    
                <a href="//www.csl.cornell.edu" target="_blank">
            
		    <img src="/img/org-logo.svg"
		        class="img-responsive"
                        alt="Computer Systems Lab, Cornell University"
		        style="margin: 0;" />
            
                </a>
            
            </div>
	    
            <div class="col-xs-2 col-middle cu-search-toggle-div">
                <span class="pull-right">
                    <button class="btn btn-cu-banner" type="button"
                    data-toggle="collapse" data-target="#cu-search"
                    id="cu-search-toggle" style="position:relative;">
                        <span class="sr-only">Toggle search</span>
                        <span class="cu-search-toggle glyphicon glyphicon-search">
                        </span>
                    </button>
                </span>
            </div>
	    
        </div>
    </div>
    </header>


<div class="nav-wrapper">
<nav class="navbar navbar-default" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Skand Hurkat</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#publications">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#teaching">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        
      </ul>

    </div>
  </div>
</nav>
</div>


<article class="article" itemscope itemtype="http://schema.org/BlogPosting">

  

  <div class="article-container">
    <h1 itemprop="name headline">A bug in how GCC handles constructors</h1>
    

<div class="article-metadata">

  
  by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" class="article-authors">Skand Hurkat</span></span>.
  
  <span class="article-date">
    <time datetime="2017-05-23T10:51:42-04:00" itemprop="datePublished">
      Tue, May 23, 2017
    </time>
  </span>

  

  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="/tags/c&#43;&#43;">c&#43;&#43;</a
    >, 
    
    <a href="/tags/programming">programming</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=http%3a%2f%2fskandhurkat.github.io%2fpost%2fgcc-constructor-bug%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=A%20bug%20in%20how%20GCC%20handles%20constructors&amp;url=http%3a%2f%2fskandhurkat.github.io%2fpost%2fgcc-constructor-bug%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fskandhurkat.github.io%2fpost%2fgcc-constructor-bug%2f&amp;title=A%20bug%20in%20how%20GCC%20handles%20constructors"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=http%3a%2f%2fskandhurkat.github.io%2fpost%2fgcc-constructor-bug%2f&amp;title=A%20bug%20in%20how%20GCC%20handles%20constructors"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=A%20bug%20in%20how%20GCC%20handles%20constructors&amp;body=http%3a%2f%2fskandhurkat.github.io%2fpost%2fgcc-constructor-bug%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      <p>Some days ago, I became aware of <a href="https://akrzemi1.wordpress.com/2017/04/27/a-serious-bug-in-gcc/" target="_blank">a bug in
GCC</a>
that has apparently existed since 2015. As this is a bug that deals with
memory leaks, it is fairly serious.</p>

<p>In this case, I really don&rsquo;t want to re-post the entire content of the
source, so I will only list my experiments with reproducing the bug once
I became aware of it.</p>

<p>C++ assumes that if a constructor fails, then no memory is allocated for
the object at all. This means that if a nested object was constructed,
C++ will implicitly call the destructor for that object so that the
programmer does not have to worry about partially constructed states.
This bug in GCC exists because under certain circumstances, GCC fails
this assumption.</p>

<p>Let&rsquo;s start off with a simple example trying to reproduce this bug.</p>
<div class="highlight" style="background: #000000"><pre style="line-height: 125%"><span style="color: #000080">#include</span> <span style="color: #000080">&lt;iostream&gt;</span>
<span style="color: #000080">#include</span> <span style="color: #000080">&lt;exception&gt;</span>

<span style="color: #cdcd00">class</span> <span style="color: #00cdcd">inner</span> <span style="color: #cccccc">{</span>
<span style="color: #cdcd00">private</span><span style="color: #3399cc">:</span>
	<span style="color: #00cd00">char</span><span style="color: #3399cc">*</span> <span style="color: #cccccc">array;</span>
<span style="color: #cdcd00">public</span><span style="color: #3399cc">:</span>
	<span style="color: #cccccc">inner()</span> <span style="color: #3399cc">:</span> <span style="color: #cccccc">array(</span><span style="color: #cdcd00">new</span> <span style="color: #00cd00">char</span><span style="color: #cccccc">[</span><span style="color: #cd00cd">128</span><span style="color: #cccccc">])</span>
	<span style="color: #cccccc">{</span>
		<span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">cout</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cd0000">&quot;inner constructed&quot;</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">endl;</span>
	<span style="color: #cccccc">}</span>
	<span style="color: #cccccc">inner(</span><span style="color: #cdcd00">const</span> <span style="color: #cccccc">inner</span><span style="color: #3399cc">&amp;</span> <span style="color: #cccccc">other)</span> <span style="color: #3399cc">:</span> <span style="color: #cccccc">array(other.array)</span>
	<span style="color: #cccccc">{</span>
		<span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">cout</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cd0000">&quot;inner copy constructed&quot;</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">endl;</span>
	<span style="color: #cccccc">}</span>
	<span style="color: #3399cc">~</span><span style="color: #cccccc">inner()</span>
	<span style="color: #cccccc">{</span>
		<span style="color: #cdcd00">delete</span><span style="color: #cccccc">[]</span> <span style="color: #cccccc">array;</span>
		<span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">cout</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cd0000">&quot;inner destructed&quot;</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">endl;</span>
	<span style="color: #cccccc">}</span>
<span style="color: #cccccc">};</span>

<span style="color: #cccccc">inner</span> <span style="color: #cccccc">make_inner_1()</span> <span style="color: #cccccc">{</span><span style="color: #cdcd00">return</span> <span style="color: #cccccc">inner();}</span>
<span style="color: #cccccc">inner</span> <span style="color: #cccccc">make_inner_2()</span> <span style="color: #cccccc">{</span><span style="color: #cdcd00">throw</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">runtime_error(</span><span style="color: #cd0000">&quot;exception&quot;</span><span style="color: #cccccc">);}</span>

<span style="color: #cdcd00">struct</span> <span style="color: #cccccc">outer</span> <span style="color: #cccccc">{</span>
	<span style="color: #cccccc">inner</span> <span style="color: #cccccc">i1;</span>
	<span style="color: #cccccc">inner</span> <span style="color: #cccccc">i2;</span>
<span style="color: #cccccc">};</span>

<span style="color: #00cd00">int</span> <span style="color: #cccccc">main(</span><span style="color: #00cd00">void</span><span style="color: #cccccc">)</span>
<span style="color: #cccccc">{</span>
	<span style="color: #cdcd00">try</span> <span style="color: #cccccc">{</span>
		<span style="color: #cccccc">outer</span> <span style="color: #cccccc">o{make_inner_1(),</span> <span style="color: #cccccc">make_inner_2()};</span>
	<span style="color: #cccccc">}</span>
	<span style="color: #cdcd00">catch</span> <span style="color: #cccccc">(</span><span style="color: #cdcd00">const</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">exception</span><span style="color: #3399cc">&amp;</span> <span style="color: #cccccc">e)</span> <span style="color: #cccccc">{</span>
		<span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">cout</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cd0000">&quot;Abort after exception &quot;</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cccccc">e.what()</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">endl;</span>
	<span style="color: #cccccc">}</span>
	<span style="color: #cdcd00">return</span> <span style="color: #cd00cd">0</span><span style="color: #cccccc">;</span>
<span style="color: #cccccc">}</span>
</pre></div>

<p>Upon compiling and running this code, the output is</p>

<pre><code>inner constructed
inner destructed
Abort after exception exception
</code></pre>

<p>This behaviour is as is expected given C++ standards. The constructor
for object <code>outer</code> tries to construct <code>i1</code>, succeeds, then tries to
construct <code>i2</code>, fails, and destructs <code>i1</code>.</p>

<p>Well, what if we try to create a nameless temporary object?</p>
<div class="highlight" style="background: #000000"><pre style="line-height: 125%"><span style="color: #000080">#include</span> <span style="color: #000080">&lt;iostream&gt;</span>
<span style="color: #000080">#include</span> <span style="color: #000080">&lt;exception&gt;</span>

<span style="color: #cdcd00">class</span> <span style="color: #00cdcd">inner</span> <span style="color: #cccccc">{</span>
<span style="color: #cdcd00">private</span><span style="color: #3399cc">:</span>
	<span style="color: #00cd00">char</span><span style="color: #3399cc">*</span> <span style="color: #cccccc">array;</span>
<span style="color: #cdcd00">public</span><span style="color: #3399cc">:</span>
	<span style="color: #cccccc">inner()</span> <span style="color: #3399cc">:</span> <span style="color: #cccccc">array(</span><span style="color: #cdcd00">new</span> <span style="color: #00cd00">char</span><span style="color: #cccccc">[</span><span style="color: #cd00cd">128</span><span style="color: #cccccc">])</span>
	<span style="color: #cccccc">{</span>
		<span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">cout</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cd0000">&quot;inner constructed&quot;</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">endl;</span>
	<span style="color: #cccccc">}</span>
	<span style="color: #cccccc">inner(</span><span style="color: #cdcd00">const</span> <span style="color: #cccccc">inner</span><span style="color: #3399cc">&amp;</span> <span style="color: #cccccc">other)</span> <span style="color: #3399cc">:</span> <span style="color: #cccccc">array(other.array)</span>
	<span style="color: #cccccc">{</span>
		<span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">cout</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cd0000">&quot;inner copy constructed&quot;</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">endl;</span>
	<span style="color: #cccccc">}</span>
	<span style="color: #3399cc">~</span><span style="color: #cccccc">inner()</span>
	<span style="color: #cccccc">{</span>
		<span style="color: #cdcd00">delete</span><span style="color: #cccccc">[]</span> <span style="color: #cccccc">array;</span>
		<span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">cout</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cd0000">&quot;inner destructed&quot;</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">endl;</span>
	<span style="color: #cccccc">}</span>
<span style="color: #cccccc">};</span>

<span style="color: #cccccc">inner</span> <span style="color: #cccccc">make_inner_1()</span> <span style="color: #cccccc">{</span><span style="color: #cdcd00">return</span> <span style="color: #cccccc">inner();}</span>
<span style="color: #cccccc">inner</span> <span style="color: #cccccc">make_inner_2()</span> <span style="color: #cccccc">{</span><span style="color: #cdcd00">throw</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">runtime_error(</span><span style="color: #cd0000">&quot;exception&quot;</span><span style="color: #cccccc">);}</span>

<span style="color: #cdcd00">struct</span> <span style="color: #cccccc">outer</span> <span style="color: #cccccc">{</span>
	<span style="color: #cccccc">inner</span> <span style="color: #cccccc">i1;</span>
	<span style="color: #cccccc">inner</span> <span style="color: #cccccc">i2;</span>
<span style="color: #cccccc">};</span>

<span style="color: #cdcd00">struct</span> <span style="color: #cccccc">foo</span> <span style="color: #cccccc">{</span>
	<span style="color: #cccccc">outer</span> <span style="color: #cccccc">o;</span>
<span style="color: #cccccc">};</span>

<span style="color: #00cd00">int</span> <span style="color: #cccccc">main(</span><span style="color: #00cd00">void</span><span style="color: #cccccc">)</span>
<span style="color: #cccccc">{</span>
	<span style="color: #cdcd00">try</span> <span style="color: #cccccc">{</span>
		<span style="color: #cccccc">foo{outer({make_inner_1(),</span> <span style="color: #cccccc">make_inner_2()})};</span>
	<span style="color: #cccccc">}</span>
	<span style="color: #cdcd00">catch</span> <span style="color: #cccccc">(</span><span style="color: #cdcd00">const</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">exception</span><span style="color: #3399cc">&amp;</span> <span style="color: #cccccc">e)</span> <span style="color: #cccccc">{</span>
		<span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">cout</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cd0000">&quot;Abort after exception &quot;</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cccccc">e.what()</span> <span style="color: #3399cc">&lt;&lt;</span> <span style="color: #cccccc">std</span><span style="color: #3399cc">::</span><span style="color: #cccccc">endl;</span>
	<span style="color: #cccccc">}</span>
	<span style="color: #cdcd00">return</span> <span style="color: #cd00cd">0</span><span style="color: #cccccc">;</span>
<span style="color: #cccccc">}</span>
</pre></div>

<p>In this case, the output is</p>

<pre><code>inner constructed
Abort after exception exception
</code></pre>

<p>This introduces a memory leak, because while <code>i1</code> is constructed, it is
never destroyed. If I compile using clang (version 3.8.0-2ubuntu4), the
expected output is still correct.</p>

<pre><code>inner constructed
inner destructed
Abort after exception exception
</code></pre>

<p>The fact that this bug has remained unresolved for over two years is
surprising. At this point, I&rsquo;m tempted to point out a paper by Ken
Thompson, <em><a href="https://doi.org/10.1145/358198.358210" target="_blank">Reflections on trusting
trust</a></em>, which points out that an
untrustworthy compiler could introduce a bug in all or a few select
programs that it compiles. Moreover, the compiler could be engineered to
introduce a bug in its own binary, so compiling the compiler from source
wouldn&rsquo;t help either.</p>

<p>This is a subtle bug that took me some time to reproduce. However, I can
easily imagine how frustrating it could be if this bug were to manifest
in a larger program that would show up through the use of <code>memcheck</code> or
a similar tool. In the meanwhile, we cannot do much except wait for a
patch. This bug hasn&rsquo;t shown up yet in code I&rsquo;ve written, but I can
always switch my build system to clang/Makefiles (the joys of <a href="/post/why-i-like-cpp11/" target="_blank">writing
platform-independent code</a>
with <a href="/post/autohell-v-cmake/" target="_blank">CMake as a build system</a>).</p>

    </div>
  </div>

</article>

<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="http://skandhurkat.github.io/post/x-forwarding-on-docker/"><span
      aria-hidden="true">&larr;</span> X forwarding on Docker</a></li>
    

    
    <li class="next"><a href="http://skandhurkat.github.io/post/intro-to-vim-macros/">An Introduction to Vim Macros <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>

<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread">
    <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "skandhurkat-csl" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</section>


</div>



    <script defer src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script defer src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script defer src="/js/jquery-1.12.3.min.js"></script>
    <script defer src="/js/jquery.easing.min.js"></script>
    <script defer src="/js/bootstrap.min.js"></script>
    <script defer src="/js/isotope.pkgd.min.js"></script>
    <script defer src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script defer src="/js/cornellcsl.min.js"></script>
    

    
    <script defer>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-25068733-5', 'auto');
        ga('send', 'pageview');

         
        var links = document.querySelectorAll('a');
        Array.prototype.map.call(links, function(item) {
            if (item.host != document.location.host) {
                item.addEventListener('click', function() {
                    var action = item.getAttribute('data-action') || 'follow';
                    ga('send', 'event', 'outbound', action, item.href);
                });
            }
        });
    </script>
    

    
    
      
      <script defer src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

